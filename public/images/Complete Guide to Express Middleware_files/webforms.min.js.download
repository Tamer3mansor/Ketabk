function webforms_script(){"use strict";function a(){void 0!==window.jQuery&&(window.ml_jQuery=window.jQuery.noConflict(!0)),d()}function b(a,b){if("function"==typeof window.ml_webform_after_success&&window.ml_webform_after_success(),!a.data("continue")&&!a.data("redirect")){var c=b.attr("id").substr(5),d=c.split("-");if(0===d.length)return;var e="ml_webform_success_"+d[0],g=b.find(".ml-block-success"),h=b.find(".ml-block-form");g.length&&h.length?(g.show(),h.hide()):"function"==typeof window[e]&&(window[e](),f())}window!=window.parent&&window.parent.postMessage("mlWebformSubmitSuccess-"+b.attr("id").substr(5),"*");"function"==typeof window.ml_survey_success&&(window.ml_survey_success(a.data("scope-id")),f())}function c(){$(".row-form").hide(),$(".row-confirm").show(),$(window).scrollTop(0)}function d(){var a=[n+"/js/w/ml_jQuery.inputmask.bundle.min.js?v3.3.1"];for(var b in a)if(a.hasOwnProperty(b)){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a[b]),b==a.length-1&&(c.onload=f,c.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||f()}),document.getElementsByTagName("head")[0].appendChild(c)}}function e(){var a=document.querySelectorAll(q);r!==a.length&&(r=a.length,f())}function f(){var a="";if("function"==typeof window.ml_guid){a=window.ml_guid();try{window.localStorage&&(window.localStorage.ml_guid?a=window.localStorage.ml_guid:window.localStorage.ml_guid=a)}catch(a){}}var d=!1;try{window&&window.location&&window.location.hostname&&window.parent&&window.parent.window&&window.parent.window.location&&window.parent.window.location.hostname&&(d=window.location.hostname===window.parent.window.location.hostname)}catch(a){d=!1}new MutationObserver(e).observe(window.document,{attributes:!0,childList:!0,subtree:!0}),window.ml_jQuery(q).each(function(){var e=window.ml_jQuery(this),f=window.ml_jQuery(this).closest(".ml-subscribe-form, .ml-contact-form, .ml-preferences-form"),h=window.ml_jQuery(this),n=!1;h.closest(".ml-webform-submit-wrapper").length&&(h=h.closest(".ml-webform-submit-wrapper"),n=h.find("button.ml-webform-submit-button"));var o=h.find("button.primary"),q=h.find("button.loading"),r=q.length>0;if(e.find("input,textarea,select").attr("aria-invalid","false"),e.find(".ml-validate-date input").inputmask(void 0,{oncomplete:function(){window.ml_jQuery(this).closest(".ml-validate-date").addClass("ml-validate-date-valid")},onincomplete:function(){window.ml_jQuery(this).closest(".ml-validate-date").removeClass("ml-validate-date-valid")},oncleared:function(){window.ml_jQuery(this).closest(".ml-validate-date").removeClass("ml-validate-date-valid")},onKeyValidation:function(){window.ml_jQuery(this).closest(".ml-validate-date").removeClass("ml-validate-date-valid")}}),e.find(".ml-validate-phone input").inputmask(void 0,{oncomplete:function(){window.ml_jQuery(this).closest(".ml-validate-phone").addClass("ml-validate-phone-valid")},onincomplete:function(){window.ml_jQuery(this).closest(".ml-validate-phone").removeClass("ml-validate-phone-valid")},oncleared:function(){window.ml_jQuery(this).closest(".ml-validate-phone").removeClass("ml-validate-phone-valid")},onKeyValidation:function(){window.ml_jQuery(this).closest(".ml-validate-phone").removeClass("ml-validate-phone-valid")}}),void 0===e.data("ml-submit-bound")||!e.data("ml-submit-bound")){e.data("ml-submit-bound",1),f.find(".ml-block-success").bind("click",function(){f.find(".ml-block-success").hide(),f.find(".ml-block-form").find('input[type="text"]').val("");var a=f.find(".ml-block-form").find('input[type="checkbox"],input[type="radio"]');void 0!==a.prop?a.prop("checked",!1):a.attr("checked",!1),f.find(".ml-block-form").show()});var s=window.ml_jQuery(":submit",e);n&&(s=n),s.click(function(){e.find('input[type="hidden"].ml-submit-hidden-value').remove(),window.ml_jQuery(this).attr("name")&&e.append(window.ml_jQuery('<input type="hidden" class="ml-submit-hidden-value">').attr({name:window.ml_jQuery(this).attr("name"),value:window.ml_jQuery(this).attr("value")}))}),window.ml_jQuery("body").hasClass("ml-submit-success")&&b(e,f);var t=function(h){if(h.preventDefault(),e.data("loading"))return!1;if(e.find(".ml-error").removeClass("ml-error"),e.find(":input[aria-invalid=true]").attr("aria-invalid","false"),e.find(".ml-server-error").addClass("d-none"),e.find(".ml-field-error-message").text(""),g(e)){r&&(o.hide(),q.show());var i=e.serialize();i=i+"&ajax=1&guid="+a;var n=e.attr("action");e.data("loading",!0);var p="GET";e.data("force-post")&&(p="POST");var s="jsonp";e.data("request-data-type")&&(s=e.data("request-data-type"));var t=/^https?:\/\/.*$/i.test(n),u=!0;e.data("email-not-required")&&(u=!1),t?d&&-1===i.toLowerCase().indexOf("email")&&u?(console.error("Form submit error. Email field is required in preview mode"),e.data("loading",!1)):window.ml_jQuery.ajax({type:p,url:n,data:i,dataType:s,success:function(a){if(e.data("loading",!1),r&&(o.show(),q.hide()),a.success?(m(e),b(e,f),l()):a.fieldsToConfirm&&a.fieldsToConfirm.length?(c(),l()):void 0!==a.errors&&(void 0!==a.errors.groups&&a.errors.groups&&(e.find(".ml-block-groups").addClass("ml-error"),e.find(".ml-block-groups :input[aria-invalid=false]").attr("aria-invalid","true")),void 0!==a.errors.fields&&a.errors.fields&&j(e,a.errors.fields)),e.data("redirect")){var g=e.data("redirect-target");d?window.top.open(e.data("redirect"),g||"_blank"):window.parent.postMessage("mlWebformRedirect-"+encodeURIComponent(e.data("redirect"))+(g?"-"+g:""),"*")}},error:function(a){e.data("loading",!1),r&&(o.show(),q.hide());var b={};try{b=JSON.parse(a.responseText)}catch(a){}e.find(".ml-server-error").text(b.message||"Something went wrong, please try again"),e.find(".ml-server-error").removeClass("d-none"),b.errors&&b.errors.fields&&Object.keys(b.errors.fields).length&&(j(e,Object.keys(b.errors.fields)),k(e,b.errors.fields))}}):(console.error("Form submit error. Invalid form action url"),e.data("loading",!1)),e.data("close")&&"function"==typeof window.close&&window.close()}};n?s.bind("click",t):e.bind("submit",t);var u=e.attr("data-id"),v=e.attr("data-code");u&&((new Image).src=p+"/webforms/o/"+u+"/"+v+"?v"+Math.floor(Date.now()/1e3))}i(e),window!=window.parent&&(window.ml_jQuery(document).on("click",".overlay, .ml-subscribe-close",function(){window.parent.postMessage("mlCloseIframe-"+e.data("code"),"*")}),window.ml_jQuery(".ml-subscribe-form").bind("click",function(a){var b=a.target||a.srcElement;window.ml_jQuery(b).is("div.ml-subscribe-close")||a.stopPropagation()}))})}function g(a){var b=!0;return a.find(".ml-validate-required").each(function(a,c){var d=!1;window.ml_jQuery(c).find('input[type="text"], input[type="email"], input[type="number"], select, textarea').each(function(a,b){void 0!==window.ml_jQuery(b).val()&&""!==window.ml_jQuery(b).val()&&(d=!0)}),window.ml_jQuery(c).find('input[type="checkbox"],input[type="radio"],input[type="hidden"]').each(function(a,b){void 0!==window.ml_jQuery(b).prop?window.ml_jQuery(b).prop("checked")&&(d=!0):window.ml_jQuery(b).attr("checked")&&(d=!0)}),d||(window.ml_jQuery(c).addClass("ml-error"),window.ml_jQuery(c).find(":input[aria-invalid=false]").attr("aria-invalid","true"),b=!1)}),a.find(".ml-validate-email").each(function(a,c){var d=!0;window.ml_jQuery(c).find('input[type="text"], input[type="email"]').each(function(a,b){void 0===window.ml_jQuery(b).val()||""===window.ml_jQuery(b).val()||h(window.ml_jQuery(b).val())||(d=!1)}),d||(window.ml_jQuery(c).addClass("ml-error"),window.ml_jQuery(c).find(":input[aria-invalid=false]").attr("aria-invalid","true"),b=!1)}),a.find(".ml-validate-date").each(function(a,c){var d=!0;window.ml_jQuery(c).find('input[type="text"]').each(function(a,b){void 0===window.ml_jQuery(b).val()||""===window.ml_jQuery(b).val()||window.ml_jQuery(c).hasClass("ml-validate-date-valid")||(d=!1)}),d||(window.ml_jQuery(c).addClass("ml-error"),window.ml_jQuery(c).find(":input[aria-invalid=false]").attr("aria-invalid","true"),b=!1)}),a.find(".ml-validate-phone").each(function(a,c){var d=!0;window.ml_jQuery(c).find('input[type="text"]').each(function(a,b){void 0===window.ml_jQuery(b).val()||""===window.ml_jQuery(b).val()||window.ml_jQuery(c).hasClass("ml-validate-phone-valid")||(d=!1)}),d||(window.ml_jQuery(c).addClass("ml-error"),window.ml_jQuery(c).find(":input[aria-invalid=false]").attr("aria-invalid","true"),b=!1)}),b}function h(a){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]){2,40}$/.test(a.trim())}function i(a){window.fields&&window.fields.length&&"object"==typeof window.fields&&a&&window.fields.forEach(function(b){if(!b.field||!b.field_type)return void console.error('Missing data! "field" and "field_type" properties are required.');var c=a.find("input[aria-label='"+b.field+"']");c.length&&(c.val(b.value),"DATE"===b.field_type&&c.closest(".ml-validate-date").addClass("ml-validate-date-valid"))})}function j(a,b){a&&b&&window.ml_jQuery.each(b,function(b,c){a.find(".ml-field-"+c).addClass("ml-error"),a.find(".ml-field-"+c+":input[aria-invalid=false]").attr("aria-invalid","true")})}function k(a,b){a&&b&&window.ml_jQuery.each(b,function(b,c){if(b&&c){var d=c.join(" ");a.find(".ml-field-"+b).find(".ml-field-error-message").text(d)}})}function l(){if(window.verticalSurvey&&window.verticalSurvey.request_url&&window.verticalSurvey.answers&&window.verticalSurvey.answers.length){var a=window.verticalSurvey.answers,b=window.verticalSurvey.request_url,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4!==c.readyState||200!==c.status)return!1;var a=JSON.parse(c.responseText);a&&a.success||console.error("Vertical survey answers failed to submit")},/^https?:\/\/.*$/i.test(b)&&(c.open("POST",b,!0),c.setRequestHeader("Content-Type","application/json;charset=UTF-8"),c.send(JSON.stringify(a)))}}function m(a){var b=a.find("#redirect_url");b.length&&location.assign(b.val())}var n="https://static.mailerlite.com",o="https://assets.mlcdn.com/gr";o.length>0&&(n=o);var p="https://track.mailerlite.com",q=".ml-subscribe-form form, .ml-contact-form form, .ml-preferences-form form",r=0;if(void 0!==window.ml_jQuery&&"function"==typeof window.ml_jQuery.ajax)return void d();if(void 0!==window.jQuery&&"function"==typeof window.jQuery.ajax)return window.ml_jQuery=window.jQuery,void d();var s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src","https://assets.mlcdn.com/ml/ajax/libs/jquery/1.8.3/jquery.min.js"),s.onload=a,s.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||a()},document.getElementsByTagName("head")[0].appendChild(s),window.ml_guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}"loading"!==document.readyState?webforms_script():document.addEventListener?document.addEventListener("DOMContentLoaded",webforms_script):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&webforms_script()});